<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible content=IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ConvFourier</title>
<div style="text-align: center;">
    <h1>ConvFourier</h1>
    <img src="resources/convfourier_img.jpg" alt="convfourier_img">
</div>
</head>

<body>
    <form style="text-align: center;" method="POST" action="/signup">
        <label for="name">name </label><br>
        <input type="text" name="name" id="name"><br>
        <label>gender </label><br>
        <label for="male">Male </label>
        <input type="radio" id="male" name="gender"><br>
        <label for="female">Female </label>
        <input type="radio" id="female" name="gender"><br>
       <label>data of birth </label><br>
        <input type="date" id="birth" name="birth" max="2017-12-31"><br>
        <label>e-mail </label><br>
        <input type="email" id="email" name="email"><br>
        <label>password </label><br>
        <input type="password" id="password" name="password"><br>
        <label>re enter password </label><br>
        <input type="password"><br><br>
        <input type="button" onclick="postData()" value="Sign up">
        <input type="submit" value="Sign up 2">

    </form>
    <h1 id='status'></h1>
</body>

</html>
<script>
    async function postData() {
        const data = {};
        data.name = document.getElementById("name").value;
        data.gender = "female";
        data.email = document.getElementById("email").value;
        data.password = document.getElementById("password").value;
        data.birth = new Date(document.getElementById("birth").value);
        try {

            const res = await fetch('/signup', {
                body: JSON.stringify(data),
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            if (!res.ok) {
                document.getElementById("status").innerText = "A7a1";
            }
            document.getElementById("status").innerText += "A7a";
        } catch (error) {
            document.getElementById("status").innerText += "457a";
        }
    }

</script>